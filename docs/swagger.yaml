basePath: /api/v1
definitions:
  contactus.CreateContactUsRequest:
    properties:
      contact_email:
        type: string
      contact_number:
        type: string
      full_name:
        type: string
      project_details:
        type: string
      project_type:
        type: string
    type: object
  contactus.CreateContactUsResponse:
    properties:
      createdAt:
        type: string
      msg:
        type: string
    type: object
  uploader.CompanyFileMetaItem:
    properties:
      created_at:
        type: string
      file_key:
        type: string
      file_name:
        type: string
      file_size:
        type: integer
      file_txn_meta:
        type: string
      file_txn_type:
        type: integer
      id:
        type: string
    type: object
  uploader.DeleteFileRequest:
    properties:
      file_key:
        type: string
      file_txn_meta:
        type: string
    type: object
  uploader.DeleteFileResponse:
    properties:
      file_key:
        type: string
    type: object
  uploader.DeleteFolderRequest:
    properties:
      file_txn_meta:
        type: string
      folder_prefix:
        type: string
    type: object
  uploader.DeleteFolderResponse:
    properties:
      deleted_bytes:
        type: integer
      deleted_count:
        type: integer
      folder_prefix:
        type: string
    type: object
  uploader.GenerateUploadURLRequest:
    properties:
      file_name:
        description: required
        type: string
      file_size:
        description: required
        type: integer
      file_txn_meta:
        description: optional
        type: string
      file_txn_type:
        description: required (e.g. 1=upload)
        type: integer
      loc_tag:
        type: string
    type: object
  uploader.GenerateUploadURLResponse:
    properties:
      file_id:
        type: string
      file_key:
        type: string
      upload_url:
        type: string
    type: object
  uploader.ListCompanyFilesResponse:
    properties:
      items:
        items:
          $ref: '#/definitions/uploader.CompanyFileMetaItem'
        type: array
      remaining_quota:
        type: integer
      total_usage_quota:
        type: integer
      used_quota:
        type: integer
    type: object
  uploader.RegisterCompanyRequest:
    properties:
      company_name:
        type: string
      end_date:
        type: string
      start_date:
        type: string
    type: object
  uploader.RegisterCompanyResponse:
    properties:
      company_api_key:
        type: string
    type: object
host: localhost:9393
info:
  contact: {}
  description: API for Jupyter Platform (DMS, contact-us, etc).
  title: Jupyter API
  version: 1.0.0
paths:
  /company/register:
    post:
      consumes:
      - application/json
      description: Register a new company and generate an API key with dates of format
        DD-MM-YYYY
      parameters:
      - description: Register Company Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/uploader.RegisterCompanyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/uploader.RegisterCompanyResponse'
        "400":
          description: Bad Request
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Register a company
      tags:
      - company
  /contactus:
    post:
      consumes:
      - application/json
      description: Creates a new contact_us entry
      parameters:
      - description: ContactUs payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/contactus.CreateContactUsRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/contactus.CreateContactUsResponse'
        "400":
          description: invalid request
          schema:
            type: string
        "500":
          description: internal error
          schema:
            type: string
      summary: Create contact us
      tags:
      - contactus
  /uploader/files:
    get:
      description: Uses X-API-Key to identify company and returns its files_meta records
      parameters:
      - description: Company API key
        in: header
        name: X-API-Key
        required: true
        type: string
      - description: Max number of items (default 50)
        in: query
        name: limit
        type: integer
      - description: Offset for pagination (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/uploader.ListCompanyFilesResponse'
        "401":
          description: unauthorized
          schema:
            type: string
        "500":
          description: internal error
          schema:
            type: string
      summary: List files for the calling company
      tags:
      - uploader
    post:
      consumes:
      - application/json
      description: Validates API key, generates a presigned S3 upload URL using company
        AWS config, and stores files_meta
      parameters:
      - description: Company API key
        in: header
        name: X-API-Key
        required: true
        type: string
      - description: File upload request
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/uploader.GenerateUploadURLRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/uploader.GenerateUploadURLResponse'
        "400":
          description: invalid request
          schema:
            type: string
        "401":
          description: unauthorized
          schema:
            type: string
        "500":
          description: internal error
          schema:
            type: string
      summary: Generate S3 presigned upload URL and create file meta
      tags:
      - uploader
  /uploader/files/delete:
    post:
      consumes:
      - application/json
      description: Deletes a file from S3 for the authenticated company and records
        a files_meta entry with file_txn_type=2
      parameters:
      - description: Company API key
        in: header
        name: X-API-Key
        required: true
        type: string
      - description: Delete file request
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/uploader.DeleteFileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/uploader.DeleteFileResponse'
        "400":
          description: invalid request
          schema:
            type: string
        "401":
          description: unauthorized
          schema:
            type: string
        "500":
          description: internal error
          schema:
            type: string
      summary: Delete a single file by key
      tags:
      - uploader
  /uploader/folders/delete:
    post:
      consumes:
      - application/json
      description: Deletes all objects under folder_prefix for the authenticated company
        and records a files_meta entry with file_txn_type=3
      parameters:
      - description: Company API key
        in: header
        name: X-API-Key
        required: true
        type: string
      - description: Delete folder request
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/uploader.DeleteFolderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/uploader.DeleteFolderResponse'
        "400":
          description: invalid request
          schema:
            type: string
        "401":
          description: unauthorized
          schema:
            type: string
        "500":
          description: internal error
          schema:
            type: string
      summary: Delete all files under a folder (prefix)
      tags:
      - uploader
swagger: "2.0"
